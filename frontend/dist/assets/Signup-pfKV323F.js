import{_ as h,r as f,c as E,d as r,w as s,f as t,u as k,o as U,b as d,g,E as c}from"./index-BUVx7fbB.js";import{u as C}from"./useAuth-CFDwM75e.js";const x={class:"signup-container"},q={class:"login-link"},R={__name:"Signup",setup(N){const w=k(),{register:v}=C(),i=f(null),m=f(!1),a=f({username:"",email:"",phone:"",password:"",confirmPassword:"",nickname:""}),_={username:[{required:!0,message:"Please enter username",trigger:"blur"},{min:3,max:20,message:"Username must be 3-20 characters",trigger:"blur"}],email:[{required:!0,message:"Please enter email",trigger:"blur"},{type:"email",message:"Please enter valid email",trigger:"blur"}],phone:[{required:!0,message:"Please enter phone number",trigger:"blur"}],password:[{required:!0,validator:(u,e,l)=>{e===""?l(new Error("Please enter password")):e.length<6?l(new Error("Password must be at least 6 characters")):l()},trigger:"blur"}],confirmPassword:[{required:!0,validator:(u,e,l)=>{e===""?l(new Error("Please confirm password")):e!==a.value.password?l(new Error("Passwords do not match")):l()},trigger:"blur"}]},P=async()=>{i.value&&await i.value.validate(async u=>{var e,l;if(u){m.value=!0;try{await v({username:a.value.username,email:a.value.email,phone:a.value.phone,password:a.value.password,nickname:a.value.nickname||a.value.username}),c.success("Account created successfully! Please login."),setTimeout(()=>{w.push("/login")},1e3)}catch(n){const p=n.message||((l=(e=n.response)==null?void 0:e.data)==null?void 0:l.message)||"Registration failed. Please try again.";c.error(p)}finally{m.value=!1}}})};return(u,e)=>{const l=t("el-input"),n=t("el-form-item"),p=t("el-button"),V=t("el-form"),b=t("router-link"),y=t("el-card");return U(),E("div",x,[r(y,{class:"signup-card"},{default:s(()=>[e[9]||(e[9]=d("div",{class:"logo"},[d("h1",null,"ðŸŽ Recipe Platform"),d("p",null,"Create your account")],-1)),r(V,{model:a.value,rules:_,ref_key:"signupFormRef",ref:i,"label-position":"top"},{default:s(()=>[r(n,{label:"Username",prop:"username"},{default:s(()=>[r(l,{modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.username=o),placeholder:"Enter username"},null,8,["modelValue"])]),_:1}),r(n,{label:"Email",prop:"email"},{default:s(()=>[r(l,{modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.email=o),type:"email",placeholder:"Enter email"},null,8,["modelValue"])]),_:1}),r(n,{label:"Phone",prop:"phone"},{default:s(()=>[r(l,{modelValue:a.value.phone,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.phone=o),placeholder:"Enter phone number"},null,8,["modelValue"])]),_:1}),r(n,{label:"Password",prop:"password"},{default:s(()=>[r(l,{modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.password=o),type:"password",placeholder:"Enter password","show-password":""},null,8,["modelValue"])]),_:1}),r(n,{label:"Confirm Password",prop:"confirmPassword"},{default:s(()=>[r(l,{modelValue:a.value.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.confirmPassword=o),type:"password",placeholder:"Confirm password","show-password":""},null,8,["modelValue"])]),_:1}),r(n,{label:"Nickname",prop:"nickname"},{default:s(()=>[r(l,{modelValue:a.value.nickname,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.nickname=o),placeholder:"Enter nickname (optional)"},null,8,["modelValue"])]),_:1}),r(p,{type:"primary",onClick:P,loading:m.value,class:"signup-btn"},{default:s(()=>[...e[6]||(e[6]=[g(" Sign Up ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"]),d("div",q,[e[8]||(e[8]=g(" Already have an account? ",-1)),r(b,{to:"/login"},{default:s(()=>[...e[7]||(e[7]=[g("Login here",-1)])]),_:1})])]),_:1})])}}},M=h(R,[["__scopeId","data-v-5e3d50ff"]]);export{M as default};
