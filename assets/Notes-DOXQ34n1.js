import{H as c,_ as S,r as h,s as z,j as D,c as N,b as e,z as y,I as M,d as s,w as n,f as u,F as k,p as x,E as V,u as U,o as d,g as i,k as p,y as j,t as r,C as q,D as G,G as H,K}from"./index-BhSzniFR.js";const P={getAllNotes(){return c.get("/notes")},getNoteById(l){return c.get(`/notes/${l}`)},getNotesByUser(l){return c.get(`/notes/user/${l}`)},createNote(l){return c.post("/notes",l)},updateNote(l,v){return c.put(`/notes/${l}`,v)},deleteNote(l){return c.delete(`/notes/${l}`)}},Q={class:"notes-page"},R={class:"page-header"},T={class:"search-bar"},J={class:"notes-grid"},O=["src","alt"],W={class:"note-content"},X={class:"note-text"},Y={class:"note-tags"},Z={class:"note-stats"},ee={__name:"Notes",setup(l){const v=U(),f=h(""),m=h([]),C=h(!1),b=async()=>{C.value=!0;try{const o=await P.getAllNotes();m.value=Array.isArray(o)?o:[]}catch(o){console.error("Failed to fetch notes:",o),V.error("Failed to load notes"),m.value=[]}finally{C.value=!1}};z(()=>{b()});const w=D(()=>{if(!f.value)return m.value;const o=f.value.toLowerCase();return m.value.filter(a=>a.title.toLowerCase().includes(o)||a.content.toLowerCase().includes(o)||a.tags&&a.tags.toLowerCase().includes(o))}),B=()=>{V.info("Create note feature coming soon!")},$=o=>{v.push(`/notes/${o}`)};return(o,a)=>{const _=u("el-icon"),A=u("el-button"),F=u("el-input"),L=u("el-tag"),I=u("el-card"),E=u("el-empty");return d(),N("div",Q,[e("div",R,[a[2]||(a[2]=e("h1",null,"Food Notes",-1)),s(A,{type:"primary",onClick:B},{default:n(()=>[s(_,null,{default:n(()=>[s(p(j))]),_:1}),a[1]||(a[1]=i(" Create Note ",-1))]),_:1})]),e("div",T,[s(F,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=t=>f.value=t),placeholder:"Search notes...","prefix-icon":"Search",style:{width:"400px"},clearable:""},null,8,["modelValue"])]),e("div",J,[(d(!0),N(k,null,x(w.value,t=>(d(),y(I,{key:t.id,class:"note-card",shadow:"hover",onClick:g=>$(t.id)},{default:n(()=>[e("img",{src:t.images[0],alt:t.title,class:"note-image"},null,8,O),e("div",W,[e("h3",null,r(t.title),1),e("p",X,r(t.content),1),e("div",Y,[(d(!0),N(k,null,x(t.tags.split(","),g=>(d(),y(L,{key:g,size:"small"},{default:n(()=>[i(r(g),1)]),_:2},1024))),128))]),e("div",Z,[e("span",null,[s(_,null,{default:n(()=>[s(p(q))]),_:1}),i(" "+r(t.viewCount),1)]),e("span",null,[s(_,null,{default:n(()=>[s(p(G))]),_:1}),i(" "+r(t.likeCount),1)]),e("span",null,[s(_,null,{default:n(()=>[s(p(H))]),_:1}),i(" "+r(t.collectCount),1)]),e("span",null,[s(_,null,{default:n(()=>[s(p(K))]),_:1}),i(" "+r(t.commentCount),1)])])])]),_:2},1032,["onClick"]))),128))]),w.value.length===0?(d(),y(E,{key:0,description:"No notes found"})):M("",!0)])}}},se=S(ee,[["__scopeId","data-v-4cb3463a"]]);export{se as default};
