import{H as r,_ as S,r as y,s as T,v as k,x,c as i,b as t,I as d,z as m,F as D,p as I,E as B,f as p,o as c,w as _,d as C,g as v,t as l}from"./index-BhSzniFR.js";const M={getAllAnnouncements(){return r.get("/announcements")},getAnnouncementById(e){return r.get(`/announcements/${e}`)},getAnnouncementsByUser(e){return r.get(`/announcements/user/${e}`)},createAnnouncement(e){return r.post("/announcements",e)},updateAnnouncement(e,o){return r.put(`/announcements/${e}`,o)},deleteAnnouncement(e){return r.delete(`/announcements/${e}`)}},V={class:"announcements-page"},F={key:0,class:"announcements-list"},P={class:"announcement-header"},$={class:"announcement-title"},z={class:"announcement-content"},U={class:"announcement-footer"},b={class:"date"},L={__name:"Announcements",setup(e){const o=y([]),u=y(!1),A=async()=>{u.value=!0;try{const n=await M.getAllAnnouncements();console.log("Announcements API response:",n),o.value=Array.isArray(n)?n:[]}catch(n){console.error("Failed to fetch announcements:",n),B.error("Failed to load announcements"),o.value=[{id:1,title:"Welcome to Recipe Platform!",content:"All features are now available. Start exploring!",type:"SYSTEM",priority:1,createdAt:"2025-01-15T10:00:00"}]}finally{u.value=!1}};T(()=>{A()});const f=n=>({SYSTEM:"primary",EVENT:"success",MAINTENANCE:"warning",UPDATE:"info"})[n]||"info",h=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(n,a)=>{const g=p("el-tag"),E=p("el-card"),N=p("el-empty"),w=x("loading");return k((c(),i("div",V,[a[1]||(a[1]=t("div",{class:"page-header"},[t("h1",null,"Announcements")],-1)),o.value.length>0?(c(),i("div",F,[(c(!0),i(D,null,I(o.value,s=>(c(),m(E,{key:s.id,class:"announcement-card",shadow:"hover"},{default:_(()=>[t("div",P,[t("div",$,[C(g,{type:f(s.type),size:"small"},{default:_(()=>[v(l(s.type),1)]),_:2},1032,["type"]),t("h3",null,l(s.title),1)]),s.priority===1?(c(),m(g,{key:0,type:"danger",size:"small"},{default:_(()=>[...a[0]||(a[0]=[v("Important",-1)])]),_:1})):d("",!0)]),t("div",z,[t("p",null,l(s.content),1)]),t("div",U,[t("span",b,l(h(s.createdAt)),1)])]),_:2},1024))),128))])):d("",!0),o.value.length===0?(c(),m(N,{key:1,description:"No announcements"})):d("",!0)])),[[w,u.value]])}}},H=S(L,[["__scopeId","data-v-4d08f745"]]);export{H as default};
