import{_ as E,r as v,j as F,s as N,c as C,b as i,v as S,d as t,f as d,w as o,x as T,F as q,p as P,E as U,u as $,o as g,g as a,k as p,y as z,z as Q,t as u,A as j,B as G,C as H,D as J,G as K,e as O}from"./index-BhSzniFR.js";import{r as W}from"./recipe-mvCqemeP.js";const X={class:"recipes-page"},Y={class:"page-header"},Z={class:"header-actions"},ee={class:"filters"},te={class:"recipes-grid"},se=["src","alt"],oe={class:"recipe-content"},le={class:"description"},ae={class:"recipe-meta"},ne={class:"recipe-stats"},ie={__name:"Recipes",setup(re){const k=$(),_=v(""),f=v("all"),m=v(!1),y=v([]),R=()=>{k.push("/recipes/create")},V=async()=>{m.value=!0;try{const s=await W.getAllRecipes();console.log("API Response:",s),console.log("Response type:",typeof s),console.log("Is array:",Array.isArray(s));const e=Array.isArray(s)?s:s.data||[];y.value=e.map(n=>({...n,category:A(n.categoryId),viewCount:n.viewCount||0,likeCount:n.likeCount||0,collectCount:n.collectCount||0,coverImage:n.coverImage||"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=300&h=200&fit=crop",description:n.description||"",difficulty:n.difficulty||"Medium",cookingTime:n.cookingTime||30,servings:n.servings||2})),console.log("Processed recipes:",y.value)}catch(s){console.error("Failed to fetch recipes:",s),console.error("Error details:",s.response||s.message),U.error("Failed to load recipes: "+(s.message||"Unknown error"))}finally{m.value=!1}},A=s=>({1:"main",2:"quick",3:"soups",4:"baking",5:"desserts",6:"vegetarian",7:"meat"})[s]||"main",M=F(()=>{let s=y.value;if(f.value!=="all"&&(s=s.filter(e=>e.category===f.value)),_.value){const e=_.value.toLowerCase();s=s.filter(n=>n.title.toLowerCase().includes(e)||n.description.toLowerCase().includes(e))}return s}),b=()=>{},w=s=>{k.push(`/recipes/${s}`)};return N(()=>{V()}),(s,e)=>{const n=d("el-input"),c=d("el-icon"),h=d("el-button"),r=d("el-radio-button"),x=d("el-radio-group"),I=d("el-tag"),D=d("el-card"),B=T("loading");return g(),C("div",X,[i("div",Y,[e[3]||(e[3]=i("h1",null,"Recipes",-1)),i("div",Z,[t(n,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=l=>_.value=l),placeholder:"Search recipes...","prefix-icon":"Search",style:{width:"300px"},clearable:""},null,8,["modelValue"]),t(h,{type:"primary",onClick:R},{default:o(()=>[t(c,null,{default:o(()=>[t(p(z))]),_:1}),e[2]||(e[2]=a(" Create Recipe ",-1))]),_:1})])]),i("div",ee,[t(x,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=l=>f.value=l),onChange:b},{default:o(()=>[t(r,{value:"all"},{default:o(()=>[...e[4]||(e[4]=[a("All",-1)])]),_:1}),t(r,{value:"main"},{default:o(()=>[...e[5]||(e[5]=[a("Main Dishes",-1)])]),_:1}),t(r,{value:"quick"},{default:o(()=>[...e[6]||(e[6]=[a("Quick Meals",-1)])]),_:1}),t(r,{value:"soups"},{default:o(()=>[...e[7]||(e[7]=[a("Soups",-1)])]),_:1}),t(r,{value:"baking"},{default:o(()=>[...e[8]||(e[8]=[a("Baking",-1)])]),_:1}),t(r,{value:"desserts"},{default:o(()=>[...e[9]||(e[9]=[a("Desserts",-1)])]),_:1}),t(r,{value:"vegetarian"},{default:o(()=>[...e[10]||(e[10]=[a("Vegetarian",-1)])]),_:1}),t(r,{value:"meat"},{default:o(()=>[...e[11]||(e[11]=[a("Meat Dishes",-1)])]),_:1})]),_:1},8,["modelValue"])]),S((g(),C("div",te,[(g(!0),C(q,null,P(M.value,l=>(g(),Q(D,{key:l.id,class:"recipe-card",shadow:"hover",onClick:L=>w(l.id)},{default:o(()=>[i("img",{src:l.coverImage,alt:l.title,class:"recipe-image"},null,8,se),i("div",oe,[i("h3",null,u(l.title),1),i("p",le,u(l.description),1),i("div",ae,[t(I,{size:"small"},{default:o(()=>[a(u(l.difficulty),1)]),_:2},1024),i("span",null,[t(c,null,{default:o(()=>[t(p(j))]),_:1}),a(" "+u(l.cookingTime)+" min",1)]),i("span",null,[t(c,null,{default:o(()=>[t(p(G))]),_:1}),a(" "+u(l.servings)+" servings",1)])]),i("div",ne,[i("span",null,[t(c,null,{default:o(()=>[t(p(H))]),_:1}),a(" "+u(l.viewCount),1)]),i("span",null,[t(c,null,{default:o(()=>[t(p(J))]),_:1}),a(" "+u(l.likeCount),1)]),i("span",null,[t(c,null,{default:o(()=>[t(p(K))]),_:1}),a(" "+u(l.collectCount),1)])]),t(h,{type:"primary",onClick:O(L=>w(l.id),["stop"])},{default:o(()=>[...e[12]||(e[12]=[a("View Recipe",-1)])]),_:1},8,["onClick"])])]),_:2},1032,["onClick"]))),128))])),[[B,m.value]])])}}},ce=E(ie,[["__scopeId","data-v-df8ec2d2"]]);export{ce as default};
